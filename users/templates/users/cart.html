{% extends 'base/base.html' %}
{% block content %}
<div style="display: flex; flex-direction: row; width: 100%">
    <input class="form-control" type="text" placeholder="댓글입력">
    <span class="cart_in" style="width: 50px"> 게시 </span>
</div>
<script>
  $('.cart_in').click(function(){
      const content = $(this).prev().val();
      const title = models.CharField(max_length=200)
      const feed_id = $(this).attr('feed_id');
      //span 위치에 feed_id="{{i.id}}" 추가하여 Feed ID를 가져옵니다.

          $.ajax({  //login에서 작성한 ajax를 복사하여 수정하면 편합니다.
              url: "http://127.0.0.1:8000/reply/",
              method: "POST",
              data: {
                  content: content,
                  nickname: nickname,
                  feed_id: feed_id
                  },
                  success: function (data) {
                      console.log("성공");
                      alert("댓글쓰기 성공");
                  },
                  error: function (request, status, error) {
                      console.log("에러");
                      alert("댓글쓰기 실패");
                  },
                  complete: function () {
                      console.log("무조건실행");
                  }
              });
  });
</script>
{% endblock %}